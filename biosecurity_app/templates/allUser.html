{% extends 'base.html' %}

{% block title %}Staff Page{% endblock %}

{% block content %}

{% if not apiarist %}
<H1>All the Apiarists</H1>
<table>
  <tr>
    <th>ID</th>
    <th>Username</th>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Email</th>
    <th>Phone</th>
    <th>address</th>
    <th>Date Joined</th>
    <th>Active Status</th>
  </tr>
  {% for user in allApiarists %}
  
  <tr>
    {% for field in user %}
    <td>

      {% if 'staff' in session %}
       <a href="{{url_for('staff_single_apiarist', id=user[0])}}">
         {{field}}
       </a>

      {% elif 'admin' in session %}
       <a href="{{url_for('admin_single_apiarist', id=user[0])}}"> 
         {{field}}
       </a>
      {% endif %}
    </td>
  
    {% endfor %}
  </tr>
  {% endfor %}
</table>

{% else %}

<form action="", methods="POST" class="bg-warning  p-4 rounded">
  <div class="mx-auto p-2  form-floating form-group ">
    <input type="text" class="form-control" id="fname" name="fname"  value="{{apiarist[1]}}" readonly>
    <label for="fname" class="form-label" >First Name</label>
  </div>

  <div class="mx-auto p-2  form-floating form-group">
    <input type="text" class="form-control" id="lname" name="lname"  value="{{apiarist[2]}}" readonly>
    <label for="lname" class="form-label" >Last Nanme</label>
  </div>

  <div class="mx-auto p-2  form-floating form-group">
    <input type="text" class="form-control" id="username" name="username"  value="{{apiarist[3]}}" readonly>
    <label for="username" class="form-label" >User Name</label>
  </div>
  
  <div class="mx-auto p-2  form-floating form-group">
  
    <input type="text" class="form-control" id="email" name="email"  value="{{apiarist[5]}}" required>
    <label for="email" class="form-label" >Email</label>
  </div>
  
  <div class="mx-auto p-2  form-floating form-group">
    <input type="text" class="form-control" id="address" name="address"  value="{{apiarist[6]}}" required>
    <label for="address" class="form-label" >address</label> 
  </div>

  <div class="mx-auto p-2  form-floating form-group">
    <input type="text" class="form-control" id="Phone" name="Phone"  value="{{apiarist[7]}}" required>
    <label for="Phone" class="form-label" >Phone</label>
  </div>

  <div class="mx-auto p-2  form-floating form-group">
    <input type="text" class="form-control" id="date" name="date"  value="{{apiarist[8]}}" readonly>
    <label for="date" class="form-label" >Member Since</label>
  </div>
  <div class="mx-auto p-2 form-floating form-group">
    <select class="form-select my-auto" id="status" name="status" required>
      {% if apiarist[9] == 1  %}
      <option value="{{ apiarist[9] }}" selected >
       Activated 
      </option>
      <option value="0" required>Deactivate the user</option>
      {% elif apiarist[9] == 0 %}
      <option value="{{ apiarist[9] }}" selected >
        Deactivated
       </option>
      <option value="1" required>Activate the user</option>
      {% endif %}
    </select>
    <label for="status" class="form-label">Active Status</label>
  </div>
  <button type="submit" class="btn btn-primary">Toggle Status</button>

</form>

{% endif %}

{% endblock %}